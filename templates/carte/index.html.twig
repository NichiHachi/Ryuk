{% extends 'base.html.twig' %}

{% block stylesheets %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
	integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

<style>
	html,
	body {
		height: 100%;
		margin: 0;
	}

	.leaflet-container {
		height: 400px;
		width: 600px;
		max-width: 100%;
		max-height: 100%;
	}
</style>
{% endblock %}

{% block javascripts %}
<script class="carte" src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
	integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
{% endblock %}

{% block title %}Ryuk - Carte{% endblock %}

{% block content %}
<h2>Défibrillateurs [<img src="{{ asset('images/thunder.svg') }}" alt="Symbole éclair" width="2%">],
	hôpitaux [<img src="{{ asset('images/hospital.svg') }}" alt="Symbole hôpital" width="2%">],
	cimetières [<img src="{{ asset('images/death.svg') }}" alt="Symbole mort" width="2%">]</h2>

<p id="locate_status">Chargement de la position ...</p>
<article>
	<div id="map" style="width: auto; height: 68vh; position:center"></div>

	<script>

		function createIcon(path) {
			return L.icon({
				iconUrl: path,

				iconSize: [38, 95], // size of the icon
				shadowSize: [50, 64], // size of the shadow
				iconAnchor: [10, 50], // point of the icon which will correspond to marker's location
				shadowAnchor: [4, 62],  // the same for the shadow
				popupAnchor: [-3, -76] // point from which the popup should open relative to the iconAnchor
			});
		}

		const defIcon = createIcon("{{ asset('images/thunder.svg') }}");
		const hosIcon = createIcon("{{ asset('images/hospital.svg') }}");
		const cimIcon = createIcon("{{ asset('images/death.svg') }}");

	</script>
	<script src={{ asset('js/map.js') }}></script>

</article>
{% endblock %}